# Лабораторная работа "Управление процессами. Capabilities"

Команды, изучаемые в лабораторной работе: `ps`, `top`, `pgrep`, `pstree`, `w`, `uptime`, `jobs`, `fg`, `bg`, `kill`, `killall`, `pkill`, `trap`, `getcap`, `setcap`.


## Процессы

### Команда `ps` {process status}

### Флаги:
---
--- 


- `-e` - {everyone} отображает информацию о всех процессах на системе, включая процессы всех пользователей.
```bash
    PID TTY          TIME CMD
      1 ?        00:00:01 systemd
      2 ?        00:00:00 kthreadd
      3 ?        00:00:00 rcu_gp
```
`PID` - {Process ID} (идентификатор процесса)- уникальный числовой идентификатор процесса.

`TTY` - указывает на терминал (tty), к которому привязан процесс. ? - процесс не связан с каким-либо терминалом.

`TIME` - Этот столбец показывает общее количество центрального процессорного времени, затраченного процессом с момента его запуска. Время, в течение которого процесс использовал процессор.

`CMD` - команда или имя исполняемого файла, который был запущен как процесс. процесс systemd, который является первым процессом, запускаемым при загрузке системы.

---
--- 

- `-l` - {long} подробный вывод (PID (идентификатор процесса), PPID (идентификатор родительского процесса), статус процесса, UID, CPU использование).

```bash
F S   UID     PID    PPID  C PRI  NI ADDR SZ WCHAN  TTY          TIME CMD
4 S     0     830     806  0  80   0 -  3193 do_wai pts/0    00:00:00 su
4 S     0     834     830  0  80   0 -  1261 do_wai pts/0    00:00:00 bash
4 R     0    1408     834  0  80   0 -  1890 -      pts/0    00:00:00 ps
```
`F` - флаги состояния процесса 

`S` - статус процесса (`R`-Running; `S`-Sleeping; `D`-Disk sleep (в ожидании диска); `T`-Stopped(приостановлен); `Z` - Zombie (зомби): Этот флаг указывает на то, что процесс завершил свою работу, но его запись в системной таблице процессов еще не была удалена. Зомби-процессы обычно ожидают, чтобы их родительский процесс прочитал код завершения и завершил их запись.I - Idle (бездействие):)

`UID` - идентификатор пользователя

`PPID` - идентификатор родительского процесса

`C` -  процент использования CPU, который занимает процесс.

`PRI` - содержит приоритет процесса.

`NI` -  значение "nice", которое влияет на приоритет процесса. Значение "0" означает нейтральный приоритет.

`ADDR` - указывает на адрес памяти процесса

`SZ` -  представляет размер процесса в килобайтах.

`WCHAN` - указывает на "wait channel", то есть на то, что процесс ожидает в данный момент.


--- 
--- 


- `-y` - {TTY} включает в выводе информацию о столбце "TTY" (терминал), который указывает, к какому терминалу привязан процесс. Если процесс не связан с каким-либо терминалом, поле будет пустым.

Столбец "RSS" в выводе команды ps -ly обозначает "Resident Set Size" (размер активной части памяти), и представляет собой объем физической оперативной памяти (RAM), который использует данный процесс в данный момент. Этот столбец показывает, сколько памяти занимает процесс, чтобы выполнять свои задачи.

---
---

- `-f` - {full} предоставляет полное описание процесса, включая информацию о командной строке запуска процесса, а также полный список атрибутов процесса.

- `-F` - {Full-format} предоставляет еще больше информации о процессах, включая дополнительные атрибуты, такие как UID, GID, время запуска и другие.



### синтаксис BSD
```bash
  $ ps ax
  $ ps axu
```
Используются для вывода информации о всех процессах в системе, включая процессы, не связанные с терминалом (`a`), и процессы для всех пользователей (`x`). То есть, комбинация ps ax используется для вывода списка процессов на системе без фильтрации по терминалу или пользователю. опция `u` в синтаксисе BSD используется для вывода более подробной информации о процессах, включая информацию о пользователе, который запустил процесс, процент использования CPU и памяти, время запуска и другие атрибуты. 


### Информация обо всех процессах в системе в виде дерева:

Эти команды выведут информацию о процессах в виде дерева, показывая связи между процессами и их родителями:
```bash
  $ ps -ejH
```
- `e` - Опция, которая отображает все процессы, включая процессы других пользователей.
- `j` - Опция, которая выводит дополнительную информацию о процессах, включая PPID (родительский процесс) и PGID (группа процессов).
- `H` - Опция, которая выводит информацию в виде дерева процессов, показывая связи между процессами и их родителями.


```bash
  $ ps axjf
```
- `a` - Опция, которая отображает все процессы (аналогично опции -e в синтаксисе BSD).
- `x` - Опция, которая выводит процессы, не связанные с терминалом (аналогично опции -x в синтаксисе BSD).
- `j` - Опция, которая выводит дополнительную информацию о процессах, включая PPID (родительский процесс) и PGID (группа процессов).
- `f` - Опция, которая выводит информацию о процессах в виде дерева процессов.


### Информация о легковесных процессах:
```bash
  $ ps -eLf
  $ ps axms
```

ps -eLf:
- `-e` - Опция, которая отображает все процессы, включая процессы других пользователей.
- `-L` - Опция, которая отображает информацию о легковесных процессах (потоках) внутри каждого процесса. Легковесные процессы (потоки) могут быть частью многозадачных процессов.
Эта команда покажет информацию о легковесных процессах, включая их идентификаторы, приоритеты, состояния и другие атрибуты в контексте каждого родительского процесса.
- `f` используется для вывода информации о процессах в виде дерева процессовю

- `a` - Опция, которая отображает все процессы (аналогично опции -e в синтаксисе BSD).
- `x` - Опция, которая выводит процессы, не связанные с терминалом (аналогично опции -x в синтаксисе BSD).
- `m` - Опция, которая отображает информацию о легковесных процессах (потоках) внутри каждого процесса.
- `s` - представляет состояние (state) каждого легковесного процесса. 

